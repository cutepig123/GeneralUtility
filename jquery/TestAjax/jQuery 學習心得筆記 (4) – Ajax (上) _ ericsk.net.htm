<!DOCTYPE html>
<!--[if IE 7]>
<html class="ie ie7" lang="en-US">
<![endif]-->
<!--[if IE 8]>
<html class="ie ie8" lang="en-US">
<![endif]-->
<!--[if !(IE 7) | !(IE 8)  ]><!-->
<html lang="en-US"><!--<![endif]--><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width">
	<title>jQuery 學習心得筆記 (4) – Ajax (上) | ericsk.net</title>
	<link rel="profile" href="http://gmpg.org/xfn/11">
	<link rel="pingback" href="http://blog.ericsk.org/xmlrpc.php">
	<!--[if lt IE 9]>
	<script src="http://blog.ericsk.org/wp-content/themes/twentythirteen/js/html5.js"></script>
	<![endif]-->
	<link rel="alternate" type="application/rss+xml" title="ericsk.net » Feed" href="http://blog.ericsk.org/feed">
<link rel="alternate" type="application/rss+xml" title="ericsk.net » Comments Feed" href="http://blog.ericsk.org/comments/feed">
<link rel="alternate" type="application/rss+xml" title="ericsk.net » jQuery 學習心得筆記 (4) – Ajax (上) Comments Feed" href="http://blog.ericsk.org/archives/838/feed">
<link rel="stylesheet" id="jetpack-widgets-css" href="jQuery%20%E5%AD%B8%E7%BF%92%E5%BF%83%E5%BE%97%E7%AD%86%E8%A8%98%20%284%29%20%E2%80%93%20Ajax%20%28%E4%B8%8A%29%20_%20ericsk.net_files/widgets.css" type="text/css" media="all">
<link rel="stylesheet" id="twentythirteen-fonts-css" href="jQuery%20%E5%AD%B8%E7%BF%92%E5%BF%83%E5%BE%97%E7%AD%86%E8%A8%98%20%284%29%20%E2%80%93%20Ajax%20%28%E4%B8%8A%29%20_%20ericsk.net_files/css.css" type="text/css" media="all">
<link rel="stylesheet" id="genericons-css" href="jQuery%20%E5%AD%B8%E7%BF%92%E5%BF%83%E5%BE%97%E7%AD%86%E8%A8%98%20%284%29%20%E2%80%93%20Ajax%20%28%E4%B8%8A%29%20_%20ericsk.net_files/genericons.css" type="text/css" media="all">
<link rel="stylesheet" id="twentythirteen-style-css" href="jQuery%20%E5%AD%B8%E7%BF%92%E5%BF%83%E5%BE%97%E7%AD%86%E8%A8%98%20%284%29%20%E2%80%93%20Ajax%20%28%E4%B8%8A%29%20_%20ericsk.net_files/style.css" type="text/css" media="all">
<!--[if lt IE 9]>
<link rel='stylesheet' id='twentythirteen-ie-css'  href='http://blog.ericsk.org/wp-content/themes/twentythirteen/css/ie.css?ver=2013-07-18' type='text/css' media='all' />
<![endif]-->
<script src="jQuery%20%E5%AD%B8%E7%BF%92%E5%BF%83%E5%BE%97%E7%AD%86%E8%A8%98%20%284%29%20%E2%80%93%20Ajax%20%28%E4%B8%8A%29%20_%20ericsk.net_files/838.htm" async=""></script><script type="text/javascript" async="" src="jQuery%20%E5%AD%B8%E7%BF%92%E5%BF%83%E5%BE%97%E7%AD%86%E8%A8%98%20%284%29%20%E2%80%93%20Ajax%20%28%E4%B8%8A%29%20_%20ericsk.net_files/quant.js"></script><script src="jQuery%20%E5%AD%B8%E7%BF%92%E5%BF%83%E5%BE%97%E7%AD%86%E8%A8%98%20%284%29%20%E2%80%93%20Ajax%20%28%E4%B8%8A%29%20_%20ericsk.net_files/ga.js" async="" type="text/javascript"></script><script type="text/javascript" src="jQuery%20%E5%AD%B8%E7%BF%92%E5%BF%83%E5%BE%97%E7%AD%86%E8%A8%98%20%284%29%20%E2%80%93%20Ajax%20%28%E4%B8%8A%29%20_%20ericsk.net_files/jquery.js"></script>
<script type="text/javascript" src="jQuery%20%E5%AD%B8%E7%BF%92%E5%BF%83%E5%BE%97%E7%AD%86%E8%A8%98%20%284%29%20%E2%80%93%20Ajax%20%28%E4%B8%8A%29%20_%20ericsk.net_files/jquery-migrate.js"></script>
<script type="text/javascript" src="jQuery%20%E5%AD%B8%E7%BF%92%E5%BF%83%E5%BE%97%E7%AD%86%E8%A8%98%20%284%29%20%E2%80%93%20Ajax%20%28%E4%B8%8A%29%20_%20ericsk.net_files/comment-reply.js"></script>
<script type="text/javascript" src="jQuery%20%E5%AD%B8%E7%BF%92%E5%BF%83%E5%BE%97%E7%AD%86%E8%A8%98%20%284%29%20%E2%80%93%20Ajax%20%28%E4%B8%8A%29%20_%20ericsk.net_files/external-tracking.js"></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://blog.ericsk.org/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://blog.ericsk.org/wp-includes/wlwmanifest.xml"> 
<link rel="prev" title="Python 成為 2007 年度程式語言" href="http://blog.ericsk.org/archives/837">
<link rel="next" title="jQuery 學習心得筆記 (5) – Ajax (下)" href="http://blog.ericsk.org/archives/839">
<meta name="generator" content="WordPress 3.7.1">
<link rel="canonical" href="http://blog.ericsk.org/archives/838">
<link rel="shortlink" href="http://wp.me/p4vFJ-dw">

<!-- Jetpack Open Graph Tags -->
<meta property="og:type" content="article">
<meta property="og:title" content="jQuery 學習心得筆記 (4) - Ajax (上)">
<meta property="og:url" content="http://blog.ericsk.org/archives/838">
<meta property="og:description" content="因為是第四篇，所以要介紹四個字的 Ajax！(冷) 在這個號稱 web 2.0 的時代，寫網站，尤其是還用到了大量的 JavaScript，如果與使用者的互動還沒有用到 Ajax 技術的話，似乎是一件很神奇的事，至於 Ajax 是什麼東西？想瞭解的人可以到這裡去看維基百科上的解釋，這篇就專心寫一下 jQuery 中的 Ajax 部份。 產生一個 Ajax 呼叫 我們來把之前的例子翻修成為 A...">
<meta property="og:site_name" content="ericsk.net">
<meta property="og:image" content="http://wordpress.com/i/blank.jpg">
<meta name="twitter:site" content="@jetpack">
<meta name="twitter:card" content="summary">
	<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
	<style type="text/css" id="twentythirteen-header-css">
			.site-header {
			background: url(http://blog.ericsk.org/wp-content/themes/twentythirteen/images/headers/diamond.png) no-repeat scroll top;
			background-size: 1600px auto;
		}
		</style>
	<!-- Google Analytics Tracking by Google Analyticator 6.4.5: http://www.videousermanuals.com/google-analyticator/ -->
<script type="text/javascript">
	var analyticsFileTypes = [''];
	var analyticsEventTracking = 'enabled';
</script>
<script type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-118317-4']);
        _gaq.push(['_addDevId', 'i9k95']); // Google Analyticator App ID with Google 
        
	_gaq.push(['_trackPageview']);

	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
</script>
<script src="jQuery%20%E5%AD%B8%E7%BF%92%E5%BF%83%E5%BE%97%E7%AD%86%E8%A8%98%20%284%29%20%E2%80%93%20Ajax%20%28%E4%B8%8A%29%20_%20ericsk.net_files/embed.js" async="" type="text/javascript"></script><script src="jQuery%20%E5%AD%B8%E7%BF%92%E5%BF%83%E5%BE%97%E7%AD%86%E8%A8%98%20%284%29%20%E2%80%93%20Ajax%20%28%E4%B8%8A%29%20_%20ericsk.net_files/count.js" type="text/javascript" async=""></script><script defer="defer" src="jQuery%20%E5%AD%B8%E7%BF%92%E5%BF%83%E5%BE%97%E7%AD%86%E8%A8%98%20%284%29%20%E2%80%93%20Ajax%20%28%E4%B8%8A%29%20_%20ericsk.net_files/sf_main.htm"></script><link rel="stylesheet" type="text/css" id="gravatar-card-css" href="jQuery%20%E5%AD%B8%E7%BF%92%E5%BF%83%E5%BE%97%E7%AD%86%E8%A8%98%20%284%29%20%E2%80%93%20Ajax%20%28%E4%B8%8A%29%20_%20ericsk.net_files/hovercard.css"><link rel="stylesheet" type="text/css" id="gravatar-card-services-css" href="jQuery%20%E5%AD%B8%E7%BF%92%E5%BF%83%E5%BE%97%E7%AD%86%E8%A8%98%20%284%29%20%E2%80%93%20Ajax%20%28%E4%B8%8A%29%20_%20ericsk.net_files/services.css"><script src="jQuery%20%E5%AD%B8%E7%BF%92%E5%BF%83%E5%BE%97%E7%AD%86%E8%A8%98%20%284%29%20%E2%80%93%20Ajax%20%28%E4%B8%8A%29%20_%20ericsk.net_files/sf_preloader.jsp" type="text/javascript"></script><script src="jQuery%20%E5%AD%B8%E7%BF%92%E5%BF%83%E5%BE%97%E7%AD%86%E8%A8%98%20%284%29%20%E2%80%93%20Ajax%20%28%E4%B8%8A%29%20_%20ericsk.net_files/sf_code.jsp" type="text/javascript"></script><script src="jQuery%20%E5%AD%B8%E7%BF%92%E5%BF%83%E5%BE%97%E7%AD%86%E8%A8%98%20%284%29%20%E2%80%93%20Ajax%20%28%E4%B8%8A%29%20_%20ericsk.net_files/base_single_icon.js" type="text/javascript"></script></head>

<body class="single single-post postid-838 single-format-standard single-author">
	<div id="page" class="hfeed site">
		<header id="masthead" class="site-header" role="banner">
			<a class="home-link" href="http://blog.ericsk.org/" title="ericsk.net" rel="home">
				<h1 class="site-title">ericsk.net</h1>
				<h2 class="site-description">All about Eric</h2>
			</a>

			<div id="navbar" class="navbar">
				<nav id="site-navigation" class="navigation main-navigation" role="navigation">
					<h3 style="display: none;" class="menu-toggle">Menu</h3>
					<a class="screen-reader-text skip-link" href="#content" title="Skip to content">Skip to content</a>
					<div class="nav-menu"></div>
					<form role="search" method="get" class="search-form" action="http://blog.ericsk.org/">
				<label>
					<span class="screen-reader-text">Search for:</span>
					<input class="search-field" placeholder="Search …" name="s" title="Search for:" type="search">
				</label>
				<input class="search-submit" value="Search" type="submit">
			</form>				</nav><!-- #site-navigation -->
			</div><!-- #navbar -->
		</header><!-- #masthead -->

		<div id="main" class="site-main">

	<div id="primary" class="content-area">
		<div id="content" class="site-content" role="main">

						
				
<article id="post-838" class="post-838 post type-post status-publish format-standard hentry category-programming category-computer-science tag-ajax tag-javascript tag-jquery tag-jquery-tut">
	<header class="entry-header">
		
				<h1 class="entry-title">jQuery 學習心得筆記 (4) – Ajax (上)</h1>
		
		<div class="entry-meta">
			<span class="date"><a href="http://blog.ericsk.org/archives/838" title="Permalink to jQuery 學習心得筆記 (4) – Ajax (上)" rel="bookmark"><time class="entry-date" datetime="2008-01-08T17:38:23+00:00">January 8, 2008</time></a></span><span class="categories-links"><a href="http://blog.ericsk.org/archives/category/programming" title="View all posts in 程式設計" rel="category tag">程式設計</a>, <a href="http://blog.ericsk.org/archives/category/computer-science" title="View all posts in 資訊科學" rel="category tag">資訊科學</a></span><span class="tags-links"><a href="http://blog.ericsk.org/archives/tag/ajax" rel="tag">ajax</a>, <a href="http://blog.ericsk.org/archives/tag/javascript" rel="tag">javascript</a>, <a href="http://blog.ericsk.org/archives/tag/jquery" rel="tag">jquery</a>, <a href="http://blog.ericsk.org/archives/tag/jquery-tut" rel="tag">jquery-tut</a></span><span class="author vcard"><a class="url fn n" href="http://blog.ericsk.org/archives/author/ericsk" title="View all posts by ericsk" rel="author">ericsk</a></span>					</div><!-- .entry-meta -->
	</header><!-- .entry-header -->

		<div class="entry-content">
		<p>因為是第四篇，所以要介紹四個字的 Ajax！(冷)</p>
<p><span id="more-838"></span>在這個號稱 web 2.0 的時代，寫網站，尤其是還用到了大量的 JavaScript，如果與使用者的互動還沒有用到 Ajax 技術的話，似乎是一件很神奇的事，至於 Ajax 是什麼東西？想瞭解的人可以到這裡去看<a href="http://zh.wikipedia.org/wiki/Ajax" target="_blank">維基百科上的解釋</a>，這篇就專心寫一下 jQuery 中的 Ajax 部份。</p>
<h4>產生一個 Ajax 呼叫</h4>
<p>我們來把之前的例子翻修成為 Ajax 版本，也就是說，之前的版本是我們把 “Hello” 字樣寫死在 JavaScript 裡，改成使用 Ajax 版本的目標，是<em>希望顯示的字樣從 server 上取得</em>。所以，我們先在 server 上寫一個處理 request 的小程式（這裡用 PHP 作為示範），假設名為 <code>msg.php</code>：</p>
<p></p><pre><code>
&lt;?php
&nbsp;&nbsp;echo "Hello";
?&gt;
</code></pre><p></p>
<p>這個 PHP 程式很簡單，任何對 msg.php 的 request，它只回應一個 “Hello” 
的字串，所以我們現在要做的事情便是：按下按鈕後，向 server 端的 msg.php 發出一個 
request，然後把它回應的東西放在要顯示的地方。所以我們把 showMsg 函式的部份改寫成這樣：</p>
<p></p><pre><code>
function showMsg(e) {
&nbsp;&nbsp;$(e.target).attr('disabled', true);
&nbsp;&nbsp;$.ajax({
&nbsp;&nbsp;&nbsp;&nbsp;url: 'msg.php',
&nbsp;&nbsp;&nbsp;&nbsp;error: function(xhr) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alert('Ajax request 發生錯誤');
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$(e.target).attr('disabled', false);
&nbsp;&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;&nbsp;success: function(response) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$('#msg').html(response);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$('#msg').fadeIn();
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setTimeout(function(){
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$('#msg').fadeOut();
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$(e.target).attr('disabled', false);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}, 3000);
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;});
}
</code></pre><p></p>
<p>在這段程式碼中，當我一把按鈕功能關閉時，馬上就利用 jQuery 中的 <code>ajax()</code> 函式來產生一個 Ajax request，注意這裡的寫法是 <strong><code>$.ajax</code></strong>，因為 <code>ajax ()</code> 函式是定義在 jQuery 這個物件下，而且不用指定網頁元件（當然你要也是可以），所以可以直接用 <code>jQuery.ajax()</code> 來呼叫使用，不過 jQuery 提供了一個 alias，也就是 <strong>$ 相當於 jQuery</strong>，所以我通常會把 code 寫成 <code>$.ajax(...)</code> 囉。</p>
<p>而 <code>jQuery.ajax()</code> 函式中需要帶一個 key-value pair 的參數，以此例來說：</p>
<ul>
<li><code>url</code> 用來指定要進行呼叫的位址</li>
<li><code>error</code> 是定義當 Ajax 發生錯誤時會呼叫的 callback</li>
<li>而 success 則是 Ajax 成功時呼叫的 callback。</li>
</ul>
<p>所以我把之前做的事都移到了 success 的 callback 函式中，不過值得注意的是：</p>
<blockquote><p>目前版本（註）的 jQuery/Ajax success callback 帶的參數（code 中的 
response）直接就是 server 回應的內容，而不像其它 error/complete callback 帶回來的是一個 
XMLHttpRequest 物件。</p></blockquote>
<p>所以我就直接把 <code>response</code> 塞進 <code>$('#msg')</code> 裡了。</p>
<h4>參數傳遞</h4>
<p>上面的例子，只有單純作一個 ajax request，如果我們同時要在 Ajax request 時傳一些數值給 server 作處理的話，那就要在 <code>$.ajax()</code> 函式中帶入 <code>data</code> 的參數。我們把之前一直使用的例子再作點修改，傳送兩個參數給 <code>msg.php</code> ，好讓它的回應訊息會根據傳入的參數而有所不同，先在按鈕前加入兩個輸入元件：</p>
<p></p><pre><code>
&lt;select id="gender"&gt;
&nbsp;&nbsp;&lt;option&gt;Male&lt;/option&gt;
&nbsp;&nbsp;&lt;option&gt;Female&lt;/option&gt;
&lt;/select&gt;
&lt;input type="text" id="name"/&gt;
</code></pre><p></p>
<p><code>#gender</code> 是一個下拉式選單，可以選擇是 Male 或 Female；而 <code>#name</code> 則是一個文字輸入元件，用來輸入名稱，這時我們將 <code>showMsg</code> 再改寫一下 <code>$.ajax</code> 的部份：</p>
<p></p><pre><code>
$.ajax({
&nbsp;&nbsp;&nbsp;&nbsp;url: 'msg.php',
&nbsp;&nbsp;&nbsp;&nbsp;data: {gender: $('#gender').val(), name: $('#name').val()},
&nbsp;&nbsp;&nbsp;&nbsp;error: function(xhr) { .... },
&nbsp;&nbsp;&nbsp;&nbsp;success: function(response) { ... }
});
</code></pre><p></p>
<p>這次我們加入了 <code>data</code> 的參數，用意是在作 ajax request 時，帶兩個參數：<code>gender</code> 及 <code>name</code>，這兩個參數的值就是在輸入欄位輸入的值， val() 函式是針對輸入欄位而設計的，它可以抓出目前該輸入欄位所輸入的值。</p>
<p>所以 msg.php 也要做適當的修改以接收 ajax request 所送來的參數：</p>
<p></p><pre><code>
&lt;?php
&nbsp;&nbsp;$res = "Hello, ";

&nbsp;&nbsp;if (!strcmp($_GET['gender'], "Male")) {
&nbsp;&nbsp;&nbsp;&nbsp;$res .= "Mr. ";
&nbsp;&nbsp;} else {
&nbsp;&nbsp;&nbsp;&nbsp;$res .= "Miss ";
&nbsp;&nbsp;}
&nbsp;&nbsp;$res .= $_GET['name'];
&nbsp;&nbsp;echo $res;
?&gt;
</code></pre><p></p>
<p>這樣，若下拉式選單傳遞的是 <code>Male</code> 則回應 “Hello, Mr. XXX” 否則回應 “Hello, Miss XXX”。</p>
<h4>回傳資料型態</h4>
<p>當 Ajax request 成功後，jQuery 的 <code>ajax</code> 函式會把回應的資料塞給 <code>success</code> 的 callback，這個參數預設是以 HTML 的資料格式來看待，以上述的例子而言，在沒有指定回傳資料型態的情況下，<code>response</code> 預期會是一份 HTML 資料，所以可以直接利用 jQuery 的 <code>html</code> 函式來塞入 HTML 資料。但是如果 server 端程式的回應值不是 HTML 的時候呢？要怎麼改變 <code>response</code> 的資料型態？<strong>答案就是在 <code>$.ajax</code> 函式中加入 <code>dataType</code> 的參數來指定。</strong></p>
<p>假設我 server 端的回傳值是一個 JSON 物件，裡面可能只是一個成員是 HTML 資料，那我就不能直接把 response 當成 
HTML 來塞了。舉個例子，若 server 端的程式（這裡用 Ruby on Rails 說明）在回應時都以 JSON 來送：</p>
<p></p><pre><code>
def msg
&nbsp;&nbsp;....
&nbsp;&nbsp;....
&nbsp;&nbsp;render :json =&gt; {:success =&gt; true, :msg =&gt; 'Hello'}.to_json
end
</code></pre><p></p>
<p>那我的 <code>$.ajax</code> 在呼叫時，就必須要加入 <strong><code>dataType: 'json'</code></strong> 來指定回傳的資料型態為何，這樣 <code>response</code> 就會是一個 JSON object，你可能就會把 <code>success</code> 的 callback 寫成這樣：</p>
<p></p><pre><code>
...
success: function(response) {
&nbsp;&nbsp;if (response.success) {
&nbsp;&nbsp;&nbsp;&nbsp;$('#msg').html(response.msg);
&nbsp;&nbsp;&nbsp;&nbsp;...
&nbsp;&nbsp;}
&nbsp;&nbsp;...
}
</code></pre><p></p>
<p>另外，在 Ruby on Rails 上也蠻多人會利用 RJS 來設計 server/client 間的互動，此時 <code>dataType</code> 就必須要指定為 <strong><code>'script'</code></strong>，這樣當 ajax 成功後，你的瀏覽器才會知道要把回傳的資料當 JavaScript 來執行。</p>
<p>下一篇將會介紹 jQuery 的 Ajax 部份會帶動哪些 event，以及我在使用 jQuery/Ajax 時碰過的一些問題。</p>
			</div><!-- .entry-content -->
	
	<footer class="entry-meta">
		
			</footer><!-- .entry-meta -->
</article><!-- #post -->
					<nav class="navigation post-navigation" role="navigation">
		<h1 class="screen-reader-text">Post navigation</h1>
		<div class="nav-links">

			<a href="http://blog.ericsk.org/archives/837" rel="prev"><span class="meta-nav">←</span> Python 成為 2007 年度程式語言</a>			<a href="http://blog.ericsk.org/archives/839" rel="next">jQuery 學習心得筆記 (5) – Ajax (下) <span class="meta-nav">→</span></a>
		</div><!-- .nav-links -->
	</nav><!-- .navigation -->
					
<div id="disqus_thread"><iframe verticalscrolling="no" horizontalscrolling="no" src="jQuery%20%E5%AD%B8%E7%BF%92%E5%BF%83%E5%BE%97%E7%AD%86%E8%A8%98%20%284%29%20%E2%80%93%20Ajax%20%28%E4%B8%8A%29%20_%20ericsk.net_files/a.htm" style="width: 100% ! important; border: medium none ! important; overflow: hidden ! important; height: 1557px ! important;" role="complementary" allowtransparency="true" data-disqus-uid="2" id="dsq-2" frameborder="0" scrolling="no" width="100%"></iframe></div>

<script type="text/javascript">
/* <![CDATA[ */
    var disqus_url = 'http://blog.ericsk.org/archives/838';
    var disqus_identifier = '838 http://blog.ericsk.org/archives/838';
    var disqus_container_id = 'disqus_thread';
    var disqus_domain = 'disqus.com';
    var disqus_shortname = 'ericsk';
    var disqus_title = "jQuery 學習心得筆記 (4) &#8211; Ajax (上)";
        var disqus_config = function () {
        var config = this; // Access to the config object
        config.language = '';

        /*
           All currently supported events:
            * preData — fires just before we request for initial data
            * preInit - fires after we get initial data but before we load any dependencies
            * onInit  - fires when all dependencies are resolved but before dtpl template is rendered
            * afterRender - fires when template is rendered but before we show it
            * onReady - everything is done
         */

        config.callbacks.preData.push(function() {
            // clear out the container (its filled for SEO/legacy purposes)
            document.getElementById(disqus_container_id).innerHTML = '';
        });
                config.callbacks.onReady.push(function() {
            // sync comments in the background so we don't block the page
            var script = document.createElement('script');
            script.async = true;
            script.src = '?cf_action=sync_comments&post_id=838';

            var firstScript = document.getElementsByTagName( "script" )[0];
            firstScript.parentNode.insertBefore(script, firstScript);
        });
                    };
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
    var DsqLocal = {
        'trackbacks': [
            {
                'author_name':    "sshlog &raquo; Blog Archive &raquo; [ASP] asp + jquery + json",
                'author_url':    "http:\/\/blog.ssh.tw\/?p=1117",
                'date':            "07\/23\/2008 08:30 PM",
                'excerpt':        "[...] jQuery 學習心得筆記 (4) - Ajax (上) [...] ",
                'type':            "pingback"            }
,            {
                'author_name':    "[jQuery] AJAX 學習筆記 (一) 如何使用 JSON 驗證使用者表單 | 小惡魔 - 電腦技術 - 生活日記 - 美食介紹 - AppleBOY",
                'author_url':    "http:\/\/blog.wu-boy.com\/2008\/09\/22\/412\/",
                'date':            "09\/22\/2008 12:10 PM",
                'excerpt':        "[...] PHP::JSON in PHP http:\/\/visualjquery.com\/1.1.2.html jQuery 學習心得筆記 (4) - Ajax (上) jQuery 學習心得筆記 (5) - Ajax [...] ",
                'type':            "pingback"            }
,            {
                'author_name':    "jQuery 學習心得筆記 (4) – Ajax (上) | WordPress",
                'author_url':    "http:\/\/hk.design-demo.com\/wp\/?p=426",
                'date':            "08\/12\/2010 04:48 PM",
                'excerpt':        "[...] jQuery 學習心得筆記 (4) – Ajax (上) Posted by ericsk | Filed under 程式設計, 資訊科學   0 [...] ",
                'type':            "pingback"            }
        ],
        'trackback_url': "http:\/\/blog.ericsk.org\/archives\/838\/trackback"    };
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.' + 'disqus.com' + '/embed.js?pname=wordpress&pver=2.74';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
/* ]]> */
</script>

			
		</div><!-- #content -->
	</div><!-- #primary -->


		</div><!-- #main -->
		<footer id="colophon" class="site-footer" role="contentinfo">
			
			<div class="site-info">
								<a href="http://wordpress.org/" title="Semantic Personal Publishing Platform">Proudly powered by WordPress</a>
			</div><!-- .site-info -->
		</footer><!-- #colophon -->
	</div><!-- #page -->

	    <script type="text/javascript">
    // <![CDATA[
        var disqus_shortname = 'ericsk';
        (function () {
            var nodes = document.getElementsByTagName('span');
            for (var i = 0, url; i < nodes.length; i++) {
                if (nodes[i].className.indexOf('dsq-postid') != -1) {
                    nodes[i].parentNode.setAttribute('data-disqus-identifier', nodes[i].getAttribute('rel'));
                    url = nodes[i].parentNode.href.split('#', 1);
                    if (url.length == 1) url = url[0];
                    else url = url[1]
                    nodes[i].parentNode.href = url + '#disqus_thread';
                }
            }
            var s = document.createElement('script'); s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + 'disqus.com/forums/' + disqus_shortname + '/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    //]]>
    </script>
	<div style="display:none">
	</div>
<script type="text/javascript" src="jQuery%20%E5%AD%B8%E7%BF%92%E5%BF%83%E5%BE%97%E7%AD%86%E8%A8%98%20%284%29%20%E2%80%93%20Ajax%20%28%E4%B8%8A%29%20_%20ericsk.net_files/devicepx-jetpack.js"></script>
<script type="text/javascript" src="jQuery%20%E5%AD%B8%E7%BF%92%E5%BF%83%E5%BE%97%E7%AD%86%E8%A8%98%20%284%29%20%E2%80%93%20Ajax%20%28%E4%B8%8A%29%20_%20ericsk.net_files/gprofiles.js"></script>
<script type="text/javascript">
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type="text/javascript" src="jQuery%20%E5%AD%B8%E7%BF%92%E5%BF%83%E5%BE%97%E7%AD%86%E8%A8%98%20%284%29%20%E2%80%93%20Ajax%20%28%E4%B8%8A%29%20_%20ericsk.net_files/wpgroho.js"></script>
<script type="text/javascript" src="jQuery%20%E5%AD%B8%E7%BF%92%E5%BF%83%E5%BE%97%E7%AD%86%E8%A8%98%20%284%29%20%E2%80%93%20Ajax%20%28%E4%B8%8A%29%20_%20ericsk.net_files/functions.js"></script>

	<script src="jQuery%20%E5%AD%B8%E7%BF%92%E5%BF%83%E5%BE%97%E7%AD%86%E8%A8%98%20%284%29%20%E2%80%93%20Ajax%20%28%E4%B8%8A%29%20_%20ericsk.net_files/e-201350.js" type="text/javascript"></script>
	<script type="text/javascript">
	st_go({v:'ext',j:'1:2.6.1',blog:'1075063',post:'838',tz:'8'});
	var load_cmc = function(){linktracker_init(1075063,838,2);};
	if ( typeof addLoadEvent != 'undefined' ) addLoadEvent(load_cmc);
	else load_cmc();
	</script><img scale="0" id="wpstats" src="jQuery%20%E5%AD%B8%E7%BF%92%E5%BF%83%E5%BE%97%E7%AD%86%E8%A8%98%20%284%29%20%E2%80%93%20Ajax%20%28%E4%B8%8A%29%20_%20ericsk.net_files/g.gif" alt="">
<iframe style="position: absolute; width: 1px; height: 1px; top: 0px; left: 0px; visibility: hidden;"></iframe><sfmsg data="{&quot;imageCount&quot;:0,&quot;ip&quot;:&quot;1.1.1.1&quot;}" id="sfMsgId"></sfmsg></body></html>